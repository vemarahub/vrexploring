<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>GridFS in Mongo | VR Exploring</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="GridFS in Mongo" />
<meta name="author" content="Rajesh Nair" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="GridFS in mongo can be used to store and retrieve huge files of type image,videos,audios etc in the mongo database in the form of collection by considering the mongo database as a filesystem. Where a document in a mongo collection can store a maximum of 16MB size , GridFS provides the specification in mongo to store the large media files in giga byte sizes in the form of files divided into chunks of data each in seperate document with maximum size of 255k. For using GridFS mongo provides a utility known as mongofiles which can be used to do the storing , retrieving , listing and deleting of the large files in the mongo database. &nbsp;For example if we have a 5GB video file in our data disk , &quot;birds.mp4 &quot; and we would like to store in our mongo database.We can do it by using the binary utility mongofiles as below: mongofiles -d media put &quot;birds.mp4&quot; Here -d denotes the database to which we would want to store the video file, in this case we are storing the video file in the media database. To see all the large files stored in media database using mongofiles we can list them as below: mongofiles -d media list To retrieve any of the files stored in the media database we can use : mongofiles -d media get &quot;birds.mp4&quot; If we login to the mongo shell and check the database to which large files are loaded we can see two new collections in the database: fs.files fs.chunks The fs.files collection will have details regarding each files stored in the database. &gt;db.fs.files.find() { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;chunkSize&quot; : 261120, &quot;uploadDate&quot; : ISODate(&quot;2019-04-29T11:59:31.268Z&quot;), &quot;length&quot; : 464935, &quot;md5&quot; : &quot;2760b0f921c7c943f21b81e4635bb365&quot;, &quot;filename&quot; : &quot;birds.mp4&quot; } The fs.chunks collections will have details regarding the chunks of data splitted of each of the files loaded &gt; db.fs.chunks.find({},{data:0}) { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000004&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 2 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000005&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 3 }" />
<meta property="og:description" content="GridFS in mongo can be used to store and retrieve huge files of type image,videos,audios etc in the mongo database in the form of collection by considering the mongo database as a filesystem. Where a document in a mongo collection can store a maximum of 16MB size , GridFS provides the specification in mongo to store the large media files in giga byte sizes in the form of files divided into chunks of data each in seperate document with maximum size of 255k. For using GridFS mongo provides a utility known as mongofiles which can be used to do the storing , retrieving , listing and deleting of the large files in the mongo database. &nbsp;For example if we have a 5GB video file in our data disk , &quot;birds.mp4 &quot; and we would like to store in our mongo database.We can do it by using the binary utility mongofiles as below: mongofiles -d media put &quot;birds.mp4&quot; Here -d denotes the database to which we would want to store the video file, in this case we are storing the video file in the media database. To see all the large files stored in media database using mongofiles we can list them as below: mongofiles -d media list To retrieve any of the files stored in the media database we can use : mongofiles -d media get &quot;birds.mp4&quot; If we login to the mongo shell and check the database to which large files are loaded we can see two new collections in the database: fs.files fs.chunks The fs.files collection will have details regarding each files stored in the database. &gt;db.fs.files.find() { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;chunkSize&quot; : 261120, &quot;uploadDate&quot; : ISODate(&quot;2019-04-29T11:59:31.268Z&quot;), &quot;length&quot; : 464935, &quot;md5&quot; : &quot;2760b0f921c7c943f21b81e4635bb365&quot;, &quot;filename&quot; : &quot;birds.mp4&quot; } The fs.chunks collections will have details regarding the chunks of data splitted of each of the files loaded &gt; db.fs.chunks.find({},{data:0}) { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000004&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 2 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000005&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 3 }" />
<link rel="canonical" href="https://vemarahub.github.io/vrexploring/gridfs-in-mongo/" />
<meta property="og:url" content="https://vemarahub.github.io/vrexploring/gridfs-in-mongo/" />
<meta property="og:site_name" content="VR Exploring" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-30T05:18:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="GridFS in Mongo" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rajesh Nair"},"dateModified":"2019-04-30T05:18:00+00:00","datePublished":"2019-04-30T05:18:00+00:00","description":"GridFS in mongo can be used to store and retrieve huge files of type image,videos,audios etc in the mongo database in the form of collection by considering the mongo database as a filesystem. Where a document in a mongo collection can store a maximum of 16MB size , GridFS provides the specification in mongo to store the large media files in giga byte sizes in the form of files divided into chunks of data each in seperate document with maximum size of 255k. For using GridFS mongo provides a utility known as mongofiles which can be used to do the storing , retrieving , listing and deleting of the large files in the mongo database. &nbsp;For example if we have a 5GB video file in our data disk , &quot;birds.mp4 &quot; and we would like to store in our mongo database.We can do it by using the binary utility mongofiles as below: mongofiles -d media put &quot;birds.mp4&quot; Here -d denotes the database to which we would want to store the video file, in this case we are storing the video file in the media database. To see all the large files stored in media database using mongofiles we can list them as below: mongofiles -d media list To retrieve any of the files stored in the media database we can use : mongofiles -d media get &quot;birds.mp4&quot; If we login to the mongo shell and check the database to which large files are loaded we can see two new collections in the database: fs.files fs.chunks The fs.files collection will have details regarding each files stored in the database. &gt;db.fs.files.find() { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;chunkSize&quot; : 261120, &quot;uploadDate&quot; : ISODate(&quot;2019-04-29T11:59:31.268Z&quot;), &quot;length&quot; : 464935, &quot;md5&quot; : &quot;2760b0f921c7c943f21b81e4635bb365&quot;, &quot;filename&quot; : &quot;birds.mp4&quot; } The fs.chunks collections will have details regarding the chunks of data splitted of each of the files loaded &gt; db.fs.chunks.find({},{data:0}) { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e72319d2661a20000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000002&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 0 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000003&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 1 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000004&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 2 } { &quot;_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000005&quot;), &quot;files_id&quot; : ObjectId(&quot;5cc6e73b19d266356c000001&quot;), &quot;n&quot; : 3 }","headline":"GridFS in Mongo","mainEntityOfPage":{"@type":"WebPage","@id":"https://vemarahub.github.io/vrexploring/gridfs-in-mongo/"},"url":"https://vemarahub.github.io/vrexploring/gridfs-in-mongo/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/vrexploring/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://vemarahub.github.io/vrexploring/feed.xml" title="VR Exploring" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/vrexploring/">VR Exploring</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/vrexploring/about/">About</a><a class="page-link" href="/vrexploring/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">GridFS in Mongo</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-04-30T05:18:00+00:00" itemprop="datePublished">Apr 30, 2019
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rajesh Nair</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div dir="ltr" style="text-align: left;" trbidi="on">
GridFS in mongo can be used to store and retrieve huge files of type image,videos,audios etc in the mongo database in the form of collection by considering the mongo database as a filesystem.<br />
<br />
Where a document in a mongo collection can store a maximum of 16MB size , GridFS provides the specification in mongo to store the large media files in giga byte sizes in the form of files divided into chunks of data each in seperate document with maximum size of 255k.<br />
<br />
For using GridFS mongo provides a utility known as mongofiles which can be used to do the storing , retrieving , listing and deleting of the large files in the mongo database.<br />
<br />
&nbsp;For example if we have a 5GB video file in our data disk , "birds.mp4 " and we would like to store in our mongo database.We can do it by using the binary utility mongofiles as below:<br />
<br />
<b>mongofiles -d media put "birds.mp4"</b><br />
<b><br /></b>
Here -d denotes the database to which we would want to store the video file, in this case we are storing the video file in the media database.<br />
<br />
To see all the large files stored in media database using mongofiles we can list them as below:<br />
<br />
<b>mongofiles -d media list</b><br />
<b><br /></b>
To retrieve any of the files stored in the media database we can use :<br />
<br />
<b>mongofiles -d media get "birds.mp4"</b><br />
<b><br /></b>
If we login to the mongo shell and check the database to which large files are loaded we can see two new collections in the database:<br />
<b>fs.files</b><br />
<b>fs.chunks</b><br />
<br />
The fs.files collection will have details regarding each files stored in the database.<br />
<br />
<b>&gt;db.fs.files.find()</b><br />
<i>{ "_id" : ObjectId("5cc6e72319d2661a20000001"), "chunkSize" : 261120, "uploadDate" : ISODate("2019-04-29T11:59:31.268Z"), "length" : 464935, "md5" : "2760b0f921c7c943f21b81e4635bb365", "filename" : "birds.mp4" }</i><br />
<i><br /></i>
The fs.chunks collections will have details regarding the chunks of data splitted of each of the files loaded<br />
<br />
<b>&gt; db.fs.chunks.find({},{data:0})</b><br />
<i>{ "_id" : ObjectId("5cc6e72319d2661a20000002"), "files_id" : ObjectId("5cc6e72319d2661a20000001"), "n" : 0 }</i><br />
<i>{ "_id" : ObjectId("5cc6e72319d2661a20000003"), "files_id" : ObjectId("5cc6e72319d2661a20000001"), "n" : 1 }</i><br />
<i>{ "_id" : ObjectId("5cc6e73b19d266356c000002"), "files_id" : ObjectId("5cc6e73b19d266356c000001"), "n" : 0 }</i><br />
<i>{ "_id" : ObjectId("5cc6e73b19d266356c000003"), "files_id" : ObjectId("5cc6e73b19d266356c000001"), "n" : 1 }</i><br />
<i>{ "_id" : ObjectId("5cc6e73b19d266356c000004"), "files_id" : ObjectId("5cc6e73b19d266356c000001"), "n" : 2 }</i><br />
<i>{ "_id" : ObjectId("5cc6e73b19d266356c000005"), "files_id" : ObjectId("5cc6e73b19d266356c000001"), "n" : 3 }</i><br />
<br /></div>

  </div><a class="u-url" href="/vrexploring/gridfs-in-mongo/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/vrexploring/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">VR Exploring</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">VR Exploring</li><li><a class="u-email" href="mailto:vrexploring@gmail.com">vrexploring@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vemarahub"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vemarahub</span></a></li><li><a href="https://www.twitter.com/vrexploring"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vrexploring</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A space where i share my thoughts and experiences about technology , science, life, family and everything in between.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
