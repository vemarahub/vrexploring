<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Mongo Operators | VR Exploring</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Mongo Operators" />
<meta name="author" content="Rajesh Nair" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Mongo database provides various operators to support the querying on the mongo shell. These are some of the operators used: Querying : 1. $gte,$gt,$lte,$lt These operators can be used to place a condition in our find query with a comparison like ( &lt; ) $lt , ( &lt;= ) $lte , ( &gt;) $gt (&gt;=) $gte for our query.An example for searching documents in the inventory collection to find where quantity is greater than equal to 20 is: db.products.find({qty:{$gte:20}}) 2.$in $in is used when we want to search the collection for all the documents whose value of that field equals any value in the specified array of the $in operator db.products.find( { qty: { $in: [ 5, 15 ] } } ) 3.$nin It selects documents where the field value is not in the specified array or the field does not exist db.inventory.find( { qty: { $nin: [ 5, 15 ] } } ) 4.$type It returns documents where the BSON type of the field matches the BSON type passed to $type db.addressBook.find( { &quot;zipCode&quot; : { $type : &quot;string&quot; } } ); This will return the documents with zip code field having a string data type values. 5.$exists This operator can be used to return all the documents in the collection where that particular field exists. db.records.find( { a: { $exists: true } } ) 6.$or Or operator can be used to perform a logical OR operation on an array of two or more expressions and select the documents which satisfy atleast one expression. db.inventory.find( { $or: [ { quantity: { $lt: 20 } }, { price: 10 } ] } ) 7.$not It will perform a logical not on the expression and return the documents which do not match the expression. db.inventory.find( { price: { $not: { $gt: 1.99 } } } ) Updating: 1.$set This operator can be used to replace the value of the field with the specified value db.products.update( &nbsp; &nbsp;{ _id: 100 }, &nbsp; &nbsp;{ $set: { &quot;details.make&quot;: &quot;zzz&quot; } } ) 2.$inc It can be used to increment the field value by the specified number .It accepts positive and negative values. db.products.update( &nbsp; &nbsp;{ sku: &quot;abc123&quot; }, &nbsp; &nbsp;{ $inc: { quantity: -2, &quot;metrics.orders&quot;: 1 } } ) The above query would search for all the documents with &quot;sku&quot;&nbsp;field as &quot;abc123&quot; and would reduce the value in the field quantity by 2 and increase the value of metrics.order field by 1. 3.$addToSet This operator would add a value to an array.If the value is already is present it would do nothing. db.foo.update( &nbsp; &nbsp;{ _id: 1 }, &nbsp; &nbsp;{ $addToSet: { colors: [ &quot;c&quot;, &quot;d&quot; ] } } ) This would add the colors c and d to colors array field. 4.$elemMatch {results:{$elemMatch:{&#39;score&#39;: 7,&#39;product&#39;: &#39;abc&#39;}}} Dot Notation: Dot notation can be used in mongo db to access the elements of an array and to access&nbsp; the fields of an embedded document. For Arrays &quot;&lt;array&gt;.&lt;index&gt;&quot; For example for a document: { &nbsp; &nbsp;contribs: [ &quot;Turing machine&quot;, &quot;Turing test&quot;, &quot;Turingery&quot; ] } The third element can be accessed as : cotribs.2 For Embedded Documents &quot;&lt;embedded document&gt;.&lt;field&gt;&quot; { &nbsp;&nbsp;name: { first: &quot;Alan&quot;, last: &quot;Turing&quot; }, &nbsp; contact: { phone: { type: &quot;cell&quot;, number: &quot;111-222-3333&quot; } }, } To access the field named last in the name field , we can access it as name.last Aggregate Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. In SQL count(*) and with group by is an equivalent of mongodb aggregation. For example for the below collection : { &nbsp; &nbsp;_id: ObjectId(7df78ad8s902c) &nbsp; &nbsp;title: &#39;vayuputra&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of Shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;gods&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 100 }, { &nbsp; &nbsp;_id: ObjectId(7df78ad89a02d) &nbsp; &nbsp;title: &#39;nagas&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;shiva&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 10 }, { &nbsp; &nbsp;_id: ObjectId(7df78aad8902e) &nbsp; &nbsp;title: &#39;Half Girlfriend&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Love Story&#39;, &nbsp; &nbsp;by_user: &#39;Chetan&#39;, &nbsp; &nbsp;tags: [&#39;novel&#39;, &#39;fiction&#39;, &#39;romance&#39;], &nbsp; &nbsp;likes: 750 }, &nbsp;if you want to display a list stating how many books are written by each user, then you will use the following aggregate() method − &gt; db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_books : {$sum : 1}}}]) { &nbsp; &nbsp;&quot;result&quot; : [ &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Amish&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 2 &nbsp; &nbsp; &nbsp; }, &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Chetan&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 1 &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp;], &nbsp; &nbsp;&quot;ok&quot; : 1 } Sorting Sorting can be used to sort the output of our find query in ascending or descending order as per requirement. db.colname.find().sort({fieldname:direction}) direction can be 1 for sorting in ascending order or -1 for sorting the output in descending order. db.products.find({price:{$exists:true}},{name:1,price:1}).sort({price:1}) The above example will sort the result set in ascending order of price. We can also have multiple sort keys for sorting which would be equivalant to order by clause in a RDBMS. db.customers.find().sort({lastname:1,firstname:1}) This corresponds to order by lastname,firstname on the result set." />
<meta property="og:description" content="Mongo database provides various operators to support the querying on the mongo shell. These are some of the operators used: Querying : 1. $gte,$gt,$lte,$lt These operators can be used to place a condition in our find query with a comparison like ( &lt; ) $lt , ( &lt;= ) $lte , ( &gt;) $gt (&gt;=) $gte for our query.An example for searching documents in the inventory collection to find where quantity is greater than equal to 20 is: db.products.find({qty:{$gte:20}}) 2.$in $in is used when we want to search the collection for all the documents whose value of that field equals any value in the specified array of the $in operator db.products.find( { qty: { $in: [ 5, 15 ] } } ) 3.$nin It selects documents where the field value is not in the specified array or the field does not exist db.inventory.find( { qty: { $nin: [ 5, 15 ] } } ) 4.$type It returns documents where the BSON type of the field matches the BSON type passed to $type db.addressBook.find( { &quot;zipCode&quot; : { $type : &quot;string&quot; } } ); This will return the documents with zip code field having a string data type values. 5.$exists This operator can be used to return all the documents in the collection where that particular field exists. db.records.find( { a: { $exists: true } } ) 6.$or Or operator can be used to perform a logical OR operation on an array of two or more expressions and select the documents which satisfy atleast one expression. db.inventory.find( { $or: [ { quantity: { $lt: 20 } }, { price: 10 } ] } ) 7.$not It will perform a logical not on the expression and return the documents which do not match the expression. db.inventory.find( { price: { $not: { $gt: 1.99 } } } ) Updating: 1.$set This operator can be used to replace the value of the field with the specified value db.products.update( &nbsp; &nbsp;{ _id: 100 }, &nbsp; &nbsp;{ $set: { &quot;details.make&quot;: &quot;zzz&quot; } } ) 2.$inc It can be used to increment the field value by the specified number .It accepts positive and negative values. db.products.update( &nbsp; &nbsp;{ sku: &quot;abc123&quot; }, &nbsp; &nbsp;{ $inc: { quantity: -2, &quot;metrics.orders&quot;: 1 } } ) The above query would search for all the documents with &quot;sku&quot;&nbsp;field as &quot;abc123&quot; and would reduce the value in the field quantity by 2 and increase the value of metrics.order field by 1. 3.$addToSet This operator would add a value to an array.If the value is already is present it would do nothing. db.foo.update( &nbsp; &nbsp;{ _id: 1 }, &nbsp; &nbsp;{ $addToSet: { colors: [ &quot;c&quot;, &quot;d&quot; ] } } ) This would add the colors c and d to colors array field. 4.$elemMatch {results:{$elemMatch:{&#39;score&#39;: 7,&#39;product&#39;: &#39;abc&#39;}}} Dot Notation: Dot notation can be used in mongo db to access the elements of an array and to access&nbsp; the fields of an embedded document. For Arrays &quot;&lt;array&gt;.&lt;index&gt;&quot; For example for a document: { &nbsp; &nbsp;contribs: [ &quot;Turing machine&quot;, &quot;Turing test&quot;, &quot;Turingery&quot; ] } The third element can be accessed as : cotribs.2 For Embedded Documents &quot;&lt;embedded document&gt;.&lt;field&gt;&quot; { &nbsp;&nbsp;name: { first: &quot;Alan&quot;, last: &quot;Turing&quot; }, &nbsp; contact: { phone: { type: &quot;cell&quot;, number: &quot;111-222-3333&quot; } }, } To access the field named last in the name field , we can access it as name.last Aggregate Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. In SQL count(*) and with group by is an equivalent of mongodb aggregation. For example for the below collection : { &nbsp; &nbsp;_id: ObjectId(7df78ad8s902c) &nbsp; &nbsp;title: &#39;vayuputra&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of Shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;gods&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 100 }, { &nbsp; &nbsp;_id: ObjectId(7df78ad89a02d) &nbsp; &nbsp;title: &#39;nagas&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;shiva&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 10 }, { &nbsp; &nbsp;_id: ObjectId(7df78aad8902e) &nbsp; &nbsp;title: &#39;Half Girlfriend&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Love Story&#39;, &nbsp; &nbsp;by_user: &#39;Chetan&#39;, &nbsp; &nbsp;tags: [&#39;novel&#39;, &#39;fiction&#39;, &#39;romance&#39;], &nbsp; &nbsp;likes: 750 }, &nbsp;if you want to display a list stating how many books are written by each user, then you will use the following aggregate() method − &gt; db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_books : {$sum : 1}}}]) { &nbsp; &nbsp;&quot;result&quot; : [ &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Amish&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 2 &nbsp; &nbsp; &nbsp; }, &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Chetan&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 1 &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp;], &nbsp; &nbsp;&quot;ok&quot; : 1 } Sorting Sorting can be used to sort the output of our find query in ascending or descending order as per requirement. db.colname.find().sort({fieldname:direction}) direction can be 1 for sorting in ascending order or -1 for sorting the output in descending order. db.products.find({price:{$exists:true}},{name:1,price:1}).sort({price:1}) The above example will sort the result set in ascending order of price. We can also have multiple sort keys for sorting which would be equivalant to order by clause in a RDBMS. db.customers.find().sort({lastname:1,firstname:1}) This corresponds to order by lastname,firstname on the result set." />
<link rel="canonical" href="https://vemarahub.github.io/vrexploring/mongo-operators/" />
<meta property="og:url" content="https://vemarahub.github.io/vrexploring/mongo-operators/" />
<meta property="og:site_name" content="VR Exploring" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-18T13:40:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Mongo Operators" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rajesh Nair"},"dateModified":"2019-03-18T13:40:00+00:00","datePublished":"2019-03-18T13:40:00+00:00","description":"Mongo database provides various operators to support the querying on the mongo shell. These are some of the operators used: Querying : 1. $gte,$gt,$lte,$lt These operators can be used to place a condition in our find query with a comparison like ( &lt; ) $lt , ( &lt;= ) $lte , ( &gt;) $gt (&gt;=) $gte for our query.An example for searching documents in the inventory collection to find where quantity is greater than equal to 20 is: db.products.find({qty:{$gte:20}}) 2.$in $in is used when we want to search the collection for all the documents whose value of that field equals any value in the specified array of the $in operator db.products.find( { qty: { $in: [ 5, 15 ] } } ) 3.$nin It selects documents where the field value is not in the specified array or the field does not exist db.inventory.find( { qty: { $nin: [ 5, 15 ] } } ) 4.$type It returns documents where the BSON type of the field matches the BSON type passed to $type db.addressBook.find( { &quot;zipCode&quot; : { $type : &quot;string&quot; } } ); This will return the documents with zip code field having a string data type values. 5.$exists This operator can be used to return all the documents in the collection where that particular field exists. db.records.find( { a: { $exists: true } } ) 6.$or Or operator can be used to perform a logical OR operation on an array of two or more expressions and select the documents which satisfy atleast one expression. db.inventory.find( { $or: [ { quantity: { $lt: 20 } }, { price: 10 } ] } ) 7.$not It will perform a logical not on the expression and return the documents which do not match the expression. db.inventory.find( { price: { $not: { $gt: 1.99 } } } ) Updating: 1.$set This operator can be used to replace the value of the field with the specified value db.products.update( &nbsp; &nbsp;{ _id: 100 }, &nbsp; &nbsp;{ $set: { &quot;details.make&quot;: &quot;zzz&quot; } } ) 2.$inc It can be used to increment the field value by the specified number .It accepts positive and negative values. db.products.update( &nbsp; &nbsp;{ sku: &quot;abc123&quot; }, &nbsp; &nbsp;{ $inc: { quantity: -2, &quot;metrics.orders&quot;: 1 } } ) The above query would search for all the documents with &quot;sku&quot;&nbsp;field as &quot;abc123&quot; and would reduce the value in the field quantity by 2 and increase the value of metrics.order field by 1. 3.$addToSet This operator would add a value to an array.If the value is already is present it would do nothing. db.foo.update( &nbsp; &nbsp;{ _id: 1 }, &nbsp; &nbsp;{ $addToSet: { colors: [ &quot;c&quot;, &quot;d&quot; ] } } ) This would add the colors c and d to colors array field. 4.$elemMatch {results:{$elemMatch:{&#39;score&#39;: 7,&#39;product&#39;: &#39;abc&#39;}}} Dot Notation: Dot notation can be used in mongo db to access the elements of an array and to access&nbsp; the fields of an embedded document. For Arrays &quot;&lt;array&gt;.&lt;index&gt;&quot; For example for a document: { &nbsp; &nbsp;contribs: [ &quot;Turing machine&quot;, &quot;Turing test&quot;, &quot;Turingery&quot; ] } The third element can be accessed as : cotribs.2 For Embedded Documents &quot;&lt;embedded document&gt;.&lt;field&gt;&quot; { &nbsp;&nbsp;name: { first: &quot;Alan&quot;, last: &quot;Turing&quot; }, &nbsp; contact: { phone: { type: &quot;cell&quot;, number: &quot;111-222-3333&quot; } }, } To access the field named last in the name field , we can access it as name.last Aggregate Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. In SQL count(*) and with group by is an equivalent of mongodb aggregation. For example for the below collection : { &nbsp; &nbsp;_id: ObjectId(7df78ad8s902c) &nbsp; &nbsp;title: &#39;vayuputra&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of Shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;gods&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 100 }, { &nbsp; &nbsp;_id: ObjectId(7df78ad89a02d) &nbsp; &nbsp;title: &#39;nagas&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Story of shiva&#39;, &nbsp; &nbsp;by_user: &#39;Amish&#39;, &nbsp; &nbsp; &nbsp;tags: [&#39;mythology&#39;, &#39;shiva&#39;, &#39;fiction&#39;], &nbsp; &nbsp;likes: 10 }, { &nbsp; &nbsp;_id: ObjectId(7df78aad8902e) &nbsp; &nbsp;title: &#39;Half Girlfriend&#39;,&nbsp; &nbsp; &nbsp;description: &#39;Love Story&#39;, &nbsp; &nbsp;by_user: &#39;Chetan&#39;, &nbsp; &nbsp;tags: [&#39;novel&#39;, &#39;fiction&#39;, &#39;romance&#39;], &nbsp; &nbsp;likes: 750 }, &nbsp;if you want to display a list stating how many books are written by each user, then you will use the following aggregate() method − &gt; db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_books : {$sum : 1}}}]) { &nbsp; &nbsp;&quot;result&quot; : [ &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Amish&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 2 &nbsp; &nbsp; &nbsp; }, &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;_id&quot; : &quot;Chetan&quot;, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;num_books&quot; : 1 &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp;], &nbsp; &nbsp;&quot;ok&quot; : 1 } Sorting Sorting can be used to sort the output of our find query in ascending or descending order as per requirement. db.colname.find().sort({fieldname:direction}) direction can be 1 for sorting in ascending order or -1 for sorting the output in descending order. db.products.find({price:{$exists:true}},{name:1,price:1}).sort({price:1}) The above example will sort the result set in ascending order of price. We can also have multiple sort keys for sorting which would be equivalant to order by clause in a RDBMS. db.customers.find().sort({lastname:1,firstname:1}) This corresponds to order by lastname,firstname on the result set.","headline":"Mongo Operators","mainEntityOfPage":{"@type":"WebPage","@id":"https://vemarahub.github.io/vrexploring/mongo-operators/"},"url":"https://vemarahub.github.io/vrexploring/mongo-operators/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/vrexploring/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://vemarahub.github.io/vrexploring/feed.xml" title="VR Exploring" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/vrexploring/">VR Exploring</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/vrexploring/about/">About</a><a class="page-link" href="/vrexploring/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Mongo Operators</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-03-18T13:40:00+00:00" itemprop="datePublished">Mar 18, 2019
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rajesh Nair</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div dir="ltr" style="text-align: left;" trbidi="on">
Mongo database provides various operators to support the querying on the mongo shell.<br />
These are some of the operators used:<br />
<br />
<br />
<h3 style="text-align: left;">
<b>Querying :</b></h3>
<b><br /></b>
1. $gte,$gt,$lte,$lt<br />
These operators can be used to place a condition in our find query with a comparison like ( &lt; ) $lt , ( &lt;= ) $lte , ( &gt;) $gt (&gt;=) $gte for our query.An example for searching documents in the inventory collection to find where quantity is greater than equal to 20 is:<br />
<b>db.products.find({qty:{$gte:20}})</b><br />
<br />
2.$in<br />
$in is used when we want to search the collection for all the documents whose value of that field equals any value in the specified array of the $in operator<br />
<b>db.products.find( { qty: { $in: [ 5, 15 ] } } )</b><br />
<b><br /></b>3.$nin<br />
It selects documents where the field value is not in the specified array or the field does not exist<br />
<b>db.inventory.find( { qty: { $nin: [ 5, 15 ] } } )</b><br />
<b><br /></b>
4.$type<br />
It returns documents where the BSON type of the field matches the BSON type passed to $type<br />
<b>db.addressBook.find( { "zipCode" : { $type : "string" } } );</b><br />
This will return the documents with zip code field having a string data type values.<br />
<br />
5.$exists<br />
This operator can be used to return all the documents in the collection where that particular field exists.<br />
<b>db.records.find( { a: { $exists: true } } )</b><br />
<b><br /></b>
6.$or<br />
Or operator can be used to perform a logical OR operation on an array of two or more expressions and select the documents which satisfy atleast one expression.<br />
<b>db.inventory.find( { $or: [ { quantity: { $lt: 20 } }, { price: 10 } ] } )</b><br />
<b><br /></b>
7.$not<br />
It will perform a logical not on the expression and return the documents which do not match the expression.<br />
<b>db.inventory.find( { price: { $not: { $gt: 1.99 } } } )</b><br />
<b><br /></b>
<b><br /></b>
<br />
<h3 style="text-align: left;">
<b>Updating:</b></h3>
<br />
<b><br /></b>
1.$set<br />
This operator can be used to replace the value of the field with the specified value<br />
<b>db.products.update(</b><br />
<b>&nbsp; &nbsp;{ _id: 100 },</b><br />
<b>&nbsp; &nbsp;{ $set: { "details.make": "zzz" } }</b><br />
<b>)</b><br />
<b><br /></b>
2.$inc<br />
It can be used to increment the field value by the specified number .It accepts positive and negative values.<br />
<b>db.products.update(</b><br />
<b>&nbsp; &nbsp;{ sku: "abc123" },</b><br />
<b>&nbsp; &nbsp;{ $inc: { quantity: -2, "metrics.orders": 1 } }</b><br />
<b>)</b><br />
The above query would search for all the documents with "sku"&nbsp;field as "abc123" and would reduce the value in the field quantity by 2 and increase the value of metrics.order field by 1.<br />
<br />
3.$addToSet<br />
This operator would add a value to an array.If the value is already is present it would do nothing.<br />
<b>db.foo.update(</b><br />
<b>&nbsp; &nbsp;{ _id: 1 },</b><br />
<b>&nbsp; &nbsp;{ $addToSet: { colors: [ "c", "d" ] } }</b><br />
<b>)</b><br />
This would add the colors c and d to colors array field.<br />
<br />
4.$elemMatch<br />
{results:{$elemMatch:{'score': 7,'product': 'abc'}}}<br />
<h3 style="text-align: left;">
<b>Dot Notation:</b></h3>
Dot notation can be used in mongo db to access the elements of an array and to access&nbsp; the fields of an embedded document.<br />
For Arrays<br />
<b>"&lt;array&gt;.&lt;index&gt;"</b><br />
<br />
For example for a document:<br />
{<br />
&nbsp; &nbsp;contribs: [ "Turing machine", "Turing test", "Turingery" ]<br />
}<br />
<br />
The third element can be accessed as : cotribs.2<br />
<br />
For Embedded Documents<br />
<b>"&lt;embedded document&gt;.&lt;field&gt;"</b><br />
{<br />
&nbsp;&nbsp;name: { first: "Alan", last: "Turing" },<br />
&nbsp; contact: { phone: { type: "cell", number: "111-222-3333" } },<br />
}<br />
To access the field named last in the name field , we can access it as name.last<br />
<br />
<h3 style="text-align: left;">
<b>Aggregate</b></h3>
<span style="background-color: white; font-family: inherit; text-align: justify;">Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. In SQL count(*) and with group by is an equivalent of mongodb aggregation.</span><br />
<span style="background-color: white; font-family: inherit; text-align: justify;">For example for the below collection :</span><br />
<span style="background-color: white; font-family: inherit; text-align: justify;"><br /></span>
<br />
<div style="text-align: justify;">
{</div>
<div style="text-align: justify;">
&nbsp; &nbsp;_id: ObjectId(7df78ad8s902c)</div>
<div style="text-align: justify;">
&nbsp; &nbsp;title: 'vayuputra',&nbsp;</div>
<div style="text-align: justify;">
&nbsp; &nbsp;description: 'Story of Shiva',</div>
<div style="text-align: justify;">
&nbsp; &nbsp;by_user: 'Amish',</div>
<div style="text-align: justify;">
&nbsp; &nbsp;tags: ['mythology', 'gods', 'fiction'],</div>
<div style="text-align: justify;">
&nbsp; &nbsp;likes: 100</div>
<div style="text-align: justify;">
},</div>
<div style="text-align: justify;">
{</div>
<div style="text-align: justify;">
&nbsp; &nbsp;_id: ObjectId(7df78ad89a02d)</div>
<div style="text-align: justify;">
&nbsp; &nbsp;title: 'nagas',&nbsp;</div>
<div style="text-align: justify;">
&nbsp; &nbsp;description: 'Story of shiva',</div>
<div style="text-align: justify;">
&nbsp; &nbsp;by_user: 'Amish',</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp;tags: ['mythology', 'shiva', 'fiction'],</div>
<div style="text-align: justify;">
&nbsp; &nbsp;likes: 10</div>
<div style="text-align: justify;">
},</div>
<div style="text-align: justify;">
{</div>
<div style="text-align: justify;">
&nbsp; &nbsp;_id: ObjectId(7df78aad8902e)</div>
<div style="text-align: justify;">
&nbsp; &nbsp;title: 'Half Girlfriend',&nbsp;</div>
<div style="text-align: justify;">
&nbsp; &nbsp;description: 'Love Story',</div>
<div style="text-align: justify;">
&nbsp; &nbsp;by_user: 'Chetan',</div>
<div style="text-align: justify;">
&nbsp; &nbsp;tags: ['novel', 'fiction', 'romance'],</div>
<div style="text-align: justify;">
&nbsp; &nbsp;likes: 750</div>
<span style="background-color: white; text-align: justify;"></span><br />
<div style="text-align: justify;">
},</div>
<div style="text-align: justify;">
&nbsp;if you want to display a list stating how many books are written by each user, then you will use the following aggregate() method −</div>
<div style="text-align: justify;">
<br /></div>
<div style="text-align: justify;">
<b>&gt; db.mycol.aggregate([{$group : {_id : "$by_user", num_books : {$sum : 1}}}])</b></div>
<div style="text-align: justify;">
{</div>
<div style="text-align: justify;">
&nbsp; &nbsp;"result" : [</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; {</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"_id" : "Amish",</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"num_books" : 2</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; },</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; {</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"_id" : "Chetan",</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"num_books" : 1</div>
<div style="text-align: justify;">
&nbsp; &nbsp; &nbsp; }</div>
<div style="text-align: justify;">
&nbsp; &nbsp;],</div>
<div style="text-align: justify;">
&nbsp; &nbsp;"ok" : 1</div>
<div style="text-align: justify;">
}</div>
<div style="text-align: justify;">
<br /></div>
<h3 style="text-align: justify;">
<b>Sorting</b></h3>
<div>
Sorting can be used to sort the output of our find query in ascending or descending order as per requirement.</div>
<div>
<b>db.colname.find().sort({fieldname:direction})</b></div>
<div>
direction can be 1 for sorting in ascending order or -1 for sorting the output in descending order.</div>
<div>
<br /></div>
<div>
<b>db.products.find({price:{$exists:true}},{name:1,price:1}).sort({price:1})</b></div>
<br />
The above example will sort the result set in ascending order of price.<br />
<br />
We can also have multiple sort keys for sorting which would be equivalant to order by clause in a RDBMS.<br />
<br />
<b>db.customers.find().sort({lastname:1,firstname:1})</b><br />
<b><br /></b>
This corresponds to order by lastname,firstname on the result set.<br />
<br /></div>

  </div><a class="u-url" href="/vrexploring/mongo-operators/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/vrexploring/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">VR Exploring</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">VR Exploring</li><li><a class="u-email" href="mailto:vrexploring@gmail.com">vrexploring@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vemarahub"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vemarahub</span></a></li><li><a href="https://www.twitter.com/vrexploring"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vrexploring</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A space where i share my thoughts and experiences about technology , science, life, family and everything in between.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
