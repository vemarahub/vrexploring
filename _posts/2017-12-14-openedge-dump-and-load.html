---
layout: post
title: Openedge Dump and Load
date: '2017-12-14T04:05:00.000-08:00'
categories: [Databases,Progress]
author: Rajesh Nair
tags:
- ".bd"
- ".df"
- data dump
- data dictionary
- ".d"
- df file
- idxbuild
- data load
modified_time: '2020-02-05T12:03:28.584-08:00'
blogger_id: tag:blogger.com,1999:blog-8827475125741824309.post-2911454236187802566
blogger_orig_url: https://csrepo.blogspot.com/2017/12/openedge-dump-and-load.html
---


<div dir="ltr" style="text-align: left;" trbidi="on"><br /><br />The Openendge RDBMS database, as we know ,would comprise mainly of tables and the data contained it.<br /><br />These table structures and the data containing in it could be exported to files using the data dictionary and can be used to load back the structure/ data to another database.<br /><br /><div style="background-color: white; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 14.85px; line-height: 20.79px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><b>How to go to Data Dictionary mode</b></span></div><div style="background-color: white; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 14.85px; line-height: 20.79px;"><ol><li style="margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">mpro &lt;db-name&gt;</span></li><ul style="line-height: 1.4; list-style: disc; margin: 0.5em 0px; padding: 0px 2.5em;"><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">hit F3 goto tools&gt;Data dictionary.</span></li></ul><li style="margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">mpro &lt;db-name&gt; -p dict.p</span></li></ol></div><br />Thus to recreate a database instance , we can simply dump the structure and data of the database and load it to a new instance.<br /><br /><br />These are the various files exported / loaded for the<b> dump and load</b> purpose:<br /><br /><b><br /></b><b>1. &nbsp;.df file : </b>This file can be created by selecting the tables(single or multiple) whose structure we want to export using<br /><br /><b>data dictionary ---&gt; admin ---&gt; dump data and definition ---&gt;&nbsp;<span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;">Data Definition (.df)</span></b><br /><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;">A sample df file would look like:</span><br /><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">ADD TABLE "testTable"</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">&nbsp; AREA "DATA_AREA"</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">&nbsp; DESCRIPTION "Field change history"</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"></span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">&nbsp; DUMP-NAME "testTable-------1-------1"</span></span><br /><div><br /></div><div><br /></div><div><div>ADD FIELD "LOANNUMBER" OF "testTable" AS character&nbsp;</div><div>&nbsp; DESCRIPTION "Unique alpha-numeric code used to identify loans.</div><div>"</div><div>&nbsp; FORMAT "x(13)"</div><div>&nbsp; INITIAL ""</div><div>&nbsp; LABEL "Loan Number"</div><div>&nbsp; POSITION 2</div><div>&nbsp; MAX-WIDTH 31995</div><div>&nbsp; COLUMN-LABEL "Loan Number"</div><div>&nbsp; ORDER 50</div><div>&nbsp; MANDATORY</div><div><br /></div><div>ADD FIELD "FILENAME" OF "testTable" AS date&nbsp;</div><div>&nbsp; DESCRIPTION "Effective date for parameters for conversion margin values."</div><div>&nbsp; FORMAT "99/99/9999"</div><div>&nbsp; INITIAL "TODAY"</div><div>&nbsp; LABEL "Effective"</div><div>&nbsp; POSITION 3</div><div>&nbsp; MAX-WIDTH 31995</div><div>&nbsp; COLUMN-LABEL "Effective"</div><div>&nbsp; ORDER 60</div><div>&nbsp; MANDATORY</div><div><br /></div><div>ADD FIELD "TRANDATE" OF "testTable" AS date&nbsp;</div><div>&nbsp; DESCRIPTION "Date of the chargeback transaction."</div><div>&nbsp; FORMAT "99/99/9999"</div><div>&nbsp; INITIAL "TODAY"</div><div>&nbsp; LABEL "Transaction"</div><div>&nbsp; POSITION 4</div><div>&nbsp; MAX-WIDTH 31995</div><div>&nbsp; COLUMN-LABEL "Transaction"</div><div>&nbsp; ORDER 70</div><div>&nbsp; MANDATORY</div><div><br /></div></div><div><br /></div><div><div>ADD INDEX "CHANGEDATE" ON "testTable"&nbsp;</div><div>&nbsp; AREA "INDEX_AREA"</div><div>&nbsp; INDEX-FIELD "LOANNUMBER" ASCENDING&nbsp;</div><div>&nbsp; INDEX-FIELD "FILENAME" ASCENDING&nbsp;</div></div><div><br /></div><div><div>.</div><div>PSC</div><div>cpstream=ISO8859-1</div><div>.</div><div>0000005781</div></div><div><br /></div><div><br /></div><div>We can load this df file to another database instance, provided the mentioned areas for the database objects are present in the new instance.</div><div><br /></div><div>Loading can be done by following below steps:</div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;">In data dictionary:</span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><b><br /></b></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><b>admin &gt; load data and definition &gt; Data Definition (.df)</b></span></div><div><ol style="background-color: white; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 14.85px; line-height: 20.79px;"><ul style="line-height: 1.4; list-style: disc; margin: 0.5em 0px; padding: 0px 2.5em;"><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">enter the full path of the .df file unless if it present in same directory where DB exist.</span></li><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">check mark the stop on error field Press F1</span></li><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">wait till it shows&nbsp;load is completed.</span></li></ul></ol></div><div><br /></div><div>The data stored in the database can be exported for individual tables in two forms of dump i.e ASCII and Binary dump.</div><div><br /></div><div><b>2. .d file : </b>The .d files are the ascii dump files which can be taken using data dictionary.These dumps are preferred for smaller table and cannot be run in background.</div><div><br /></div><div>The .d dump can be taken by using below option from data dictionary:</div><div><br /></div><div><b>admin ---&gt; dump data and definition ---&gt;&nbsp;<span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;">Data file(.d)</span></b></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;">To load the .d files into another instance , provided the same structure of the table is present in the new instance, we can use the below option in data dictionary.</span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><b><br /></b></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><b>admin &gt; load data and definition &gt; Data File (.d)</b></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span></div><div><ul style="font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 14.85px; line-height: 1.4; margin: 0.5em 0px; padding: 0px 2.5em;"><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">enter the full path of the .d file unless if it present in same directory where DB exist.</span></li><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">check mark the stop on error field Press F1</span></li><li style="border: none; margin: 0px 0px 0.25em; padding: 0px;"><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">When load completes, it would show the no of records loaded.</span></li></ul><div><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span></div></div><div><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span></div><div><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><b>3. .bd file : </b>&nbsp;The .bd files are the binary dump file and can be dumped using &nbsp;proutil utility&nbsp;</span></span></div><div><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span></div><div><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><b>proutil &lt;dbname&gt; -C dump &lt;table-name&gt; &lt;dump-path&gt;</b></span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;">This would create a .bd file of the tabe name provided for dump.</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;">We can use many arguments while dumping to enhance the dump performance</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;">eg: proutil&nbsp;</span><span style="font-size: 14.85px; line-height: 20.79px;">&lt;DB-name&gt; -C dump &lt;table-name&gt; &lt;dev-path&gt; -thread 1 -threadnum 10 -dumplist &lt;path&gt;/cra.dumplist -index 294</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">We can dump the data of a table for a specific condition applied on a field using dumpspecified argument, thus restricting the dump data to only the required condition</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">eg:&nbsp;proutil &lt;dbname&gt; -C dumpspecified &lt;tablename&gt;.&lt;fieldname&gt; gt 03-13-2015</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">Note: To enable dump of large tables , we need to enable large files first for the database</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">proutil &lt;dbname&gt; -C EnableLargeFiles</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;">To load back the .bd file to a database instance , we need to use proutil load utility.</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><b>proutil &lt;db-name&gt; -C load &lt;table-name&gt;&nbsp;</b></span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;">After loading a binary data in the database , index rebuild has to be performed as a post activity &nbsp;because while performing a binary load progress makes all the indexes of the table inactive.</span></span><br /><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><b>proutil &lt;db-name&gt; -C idxbuild</b></span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;">This would provide an interactive menu, we need to select T &nbsp;option to perform idxbuild for a specific table and then provide the table number for which we have performed the binary load and perform index rebuild for the same.</span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><br /></span></span><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white;"><span style="font-size: 14.85px; line-height: 20.79px;">Index rebuild shall be explained in detail in a&nbsp;separate&nbsp;post.</span></span></span><br /><span style="font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white; font-size: 14.85px; line-height: 20.79px;"><br /></span></span></div><div><span style="background-color: white; font-family: &quot;arial&quot; , &quot;helvetica&quot; , sans-serif; font-size: 14.85px; line-height: 20.79px;"><br /></span></div></div>