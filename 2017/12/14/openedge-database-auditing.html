<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Openedge Database Auditing | VR Exploring</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Openedge Database Auditing" />
<meta name="author" content="Rajesh Nair" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Auditing goal can be achieved through below steps: 1. Enabling Audit in a DB. 2. Implementing policies. 3. Generating reports. ENABLING AUDIT &nbsp;: 1. Create &nbsp;a &nbsp;storage area for auditing tables . May create an area for Index too. Area should be of Type 2 storage essentially . eg. Add.st : d &quot;AUDIT_AREA_DATA&quot;:70,64;512 ./testdb_70.d1&nbsp; d &quot;AUDIT_AREA_IDX&quot;:71,64;512 ./testdb_71.d1 2. After creating Area enable auditing for database : $ proutil testdb -C enableauditing area &quot;AUDIT_AREA_DATA&quot; - indexarea &quot;AUDIT_AREA_IDX&quot; deactivateidx “OpenEdge Release 10.2B04 as of Thu Mar &nbsp;3 19:17:16 EST 2011 The 95 audit event records for default system events were loaded successfully. (14812) The 36 audit event records for encryption audit events were loaded successfully. (14812) Auditing has been enabled for database testdb. (12479)” IMPLEMENTING AUDIT POLICY &nbsp;: 1. Import Policy in local Database. 2. Export implemented Policy in Character Database.&nbsp; There are various audit policies predefined for OE database. However we can create our customized policies too. Here in particular to our environment our goal is to enable auditing for DBA activities like&nbsp; Dump/load , database object creation, idxbuild etc. For this purpose we two pre defined policies as below. App-Schema&nbsp; PSC-Db-Admin A little description is as below : App-Schema: Application schema changes. This includes when any of the following is created, updated, or deleted: table, table trigger, table field, table index; or sequence. This also includes when a database is created or updated. &nbsp;PSC-Db-Admin: Database administration tools. This includes when the database is started or stopped; or when any of the following operations are performed on the database: backup, restore, binary dump, binary load, copy, table move, index move, index check, index rebuild, index fix, area truncate, SQL dump, text dump, text load. Now comes the tool to Activate a policy called “Audit Policy Maintenance” &nbsp;. Above tools is for Windows GUI only not for Character Interface. So we need to Enable a policy in our local system ,then export it in a XML format and load it in Character interface through Admin tool. We will see this further. &nbsp; After enabling Audit in our local DB ( Local DB should be a similar copy of Character DB in terms of schema) , we need to import policy from Audit policy maintenance tool . Read &nbsp;below . 1. Goto “Audit Policy Maintenance “option in “Tools” in Data Dictionary. 2.You will get below window . Go to File and then “Import Policy” . 3. Auditing policies are stored &nbsp;in $DLC/auditing drive in XML format . Browse there and select &nbsp; “policies.xml” .&nbsp; 4. After importing you will get below message box. 5. You can see Different policies being imported as below . 6. You need to select a policy to activate (however when you import policies.xml , all policies in this xml are activated by default . we need &nbsp;to activate App-Schema and PSC-DB-Admin Policy and deactivate others as below) . Select one policy ( here &nbsp;PSC-DB-Admin) . &nbsp;If you uncheck “Policy active” check box , it will get deactivated ( after saving changes.). 7. You need to uncheck and rest of the policies and check(if not) two policies in concern . Now you need to save changes as below from &nbsp;”Save record” .&nbsp; &nbsp;&nbsp; 8. Once you save it you can see active policies as below. Export Policy to character Database: Goto “Audit Policy Maintenance” tool and select File &gt; Export Policy. &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Browse to directory where you want to generate XML file. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Give a name like “db-policy.xml” &nbsp;and export by clicking on Open . The Xml generated needs to be loaded in target Database . GENERATING REPORTS : Once Auditing is enabled we need to query audit related tables. Below figure may help us. Details of audit tables can be found in documents as below . Table name Description Archived _aud-audit-data &nbsp; &nbsp;&gt;&gt;&gt; &nbsp; &nbsp; This table contains the audit data records. All events are stored in this table. _aud-audit-data-value &gt;&gt;&gt; &nbsp;This table is a child table of the _aud-audit-data table, and contains records for each field change data event. _aud-audit-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains named audit policies. If multiple policies are active, the aggregation of the policies is applied, and the highest level of auditing will be applied if a conflict exists between policies. _aud-event &nbsp;&gt;&gt;&gt; &nbsp;This table contains the definitions for all supported OpenEdge and user-defined audit events and their event ids. All event ids up to 32,000 are reserved. You can create custom application events with ids greater than 32,000. _aud-event-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains policy settings for events associated with policies. _aud-field-policy &gt;&gt;&gt; This table contains field level auditing settings associated with a named policy. _aud-file-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains table level auditing settings associated with a named policy." />
<meta property="og:description" content="Auditing goal can be achieved through below steps: 1. Enabling Audit in a DB. 2. Implementing policies. 3. Generating reports. ENABLING AUDIT &nbsp;: 1. Create &nbsp;a &nbsp;storage area for auditing tables . May create an area for Index too. Area should be of Type 2 storage essentially . eg. Add.st : d &quot;AUDIT_AREA_DATA&quot;:70,64;512 ./testdb_70.d1&nbsp; d &quot;AUDIT_AREA_IDX&quot;:71,64;512 ./testdb_71.d1 2. After creating Area enable auditing for database : $ proutil testdb -C enableauditing area &quot;AUDIT_AREA_DATA&quot; - indexarea &quot;AUDIT_AREA_IDX&quot; deactivateidx “OpenEdge Release 10.2B04 as of Thu Mar &nbsp;3 19:17:16 EST 2011 The 95 audit event records for default system events were loaded successfully. (14812) The 36 audit event records for encryption audit events were loaded successfully. (14812) Auditing has been enabled for database testdb. (12479)” IMPLEMENTING AUDIT POLICY &nbsp;: 1. Import Policy in local Database. 2. Export implemented Policy in Character Database.&nbsp; There are various audit policies predefined for OE database. However we can create our customized policies too. Here in particular to our environment our goal is to enable auditing for DBA activities like&nbsp; Dump/load , database object creation, idxbuild etc. For this purpose we two pre defined policies as below. App-Schema&nbsp; PSC-Db-Admin A little description is as below : App-Schema: Application schema changes. This includes when any of the following is created, updated, or deleted: table, table trigger, table field, table index; or sequence. This also includes when a database is created or updated. &nbsp;PSC-Db-Admin: Database administration tools. This includes when the database is started or stopped; or when any of the following operations are performed on the database: backup, restore, binary dump, binary load, copy, table move, index move, index check, index rebuild, index fix, area truncate, SQL dump, text dump, text load. Now comes the tool to Activate a policy called “Audit Policy Maintenance” &nbsp;. Above tools is for Windows GUI only not for Character Interface. So we need to Enable a policy in our local system ,then export it in a XML format and load it in Character interface through Admin tool. We will see this further. &nbsp; After enabling Audit in our local DB ( Local DB should be a similar copy of Character DB in terms of schema) , we need to import policy from Audit policy maintenance tool . Read &nbsp;below . 1. Goto “Audit Policy Maintenance “option in “Tools” in Data Dictionary. 2.You will get below window . Go to File and then “Import Policy” . 3. Auditing policies are stored &nbsp;in $DLC/auditing drive in XML format . Browse there and select &nbsp; “policies.xml” .&nbsp; 4. After importing you will get below message box. 5. You can see Different policies being imported as below . 6. You need to select a policy to activate (however when you import policies.xml , all policies in this xml are activated by default . we need &nbsp;to activate App-Schema and PSC-DB-Admin Policy and deactivate others as below) . Select one policy ( here &nbsp;PSC-DB-Admin) . &nbsp;If you uncheck “Policy active” check box , it will get deactivated ( after saving changes.). 7. You need to uncheck and rest of the policies and check(if not) two policies in concern . Now you need to save changes as below from &nbsp;”Save record” .&nbsp; &nbsp;&nbsp; 8. Once you save it you can see active policies as below. Export Policy to character Database: Goto “Audit Policy Maintenance” tool and select File &gt; Export Policy. &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Browse to directory where you want to generate XML file. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Give a name like “db-policy.xml” &nbsp;and export by clicking on Open . The Xml generated needs to be loaded in target Database . GENERATING REPORTS : Once Auditing is enabled we need to query audit related tables. Below figure may help us. Details of audit tables can be found in documents as below . Table name Description Archived _aud-audit-data &nbsp; &nbsp;&gt;&gt;&gt; &nbsp; &nbsp; This table contains the audit data records. All events are stored in this table. _aud-audit-data-value &gt;&gt;&gt; &nbsp;This table is a child table of the _aud-audit-data table, and contains records for each field change data event. _aud-audit-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains named audit policies. If multiple policies are active, the aggregation of the policies is applied, and the highest level of auditing will be applied if a conflict exists between policies. _aud-event &nbsp;&gt;&gt;&gt; &nbsp;This table contains the definitions for all supported OpenEdge and user-defined audit events and their event ids. All event ids up to 32,000 are reserved. You can create custom application events with ids greater than 32,000. _aud-event-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains policy settings for events associated with policies. _aud-field-policy &gt;&gt;&gt; This table contains field level auditing settings associated with a named policy. _aud-file-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains table level auditing settings associated with a named policy." />
<link rel="canonical" href="https://vemarahub.github.io/vrexploring/2017/12/14/openedge-database-auditing.html" />
<meta property="og:url" content="https://vemarahub.github.io/vrexploring/2017/12/14/openedge-database-auditing.html" />
<meta property="og:site_name" content="VR Exploring" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-14T10:48:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Openedge Database Auditing" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rajesh Nair"},"dateModified":"2017-12-14T10:48:00+00:00","datePublished":"2017-12-14T10:48:00+00:00","description":"Auditing goal can be achieved through below steps: 1. Enabling Audit in a DB. 2. Implementing policies. 3. Generating reports. ENABLING AUDIT &nbsp;: 1. Create &nbsp;a &nbsp;storage area for auditing tables . May create an area for Index too. Area should be of Type 2 storage essentially . eg. Add.st : d &quot;AUDIT_AREA_DATA&quot;:70,64;512 ./testdb_70.d1&nbsp; d &quot;AUDIT_AREA_IDX&quot;:71,64;512 ./testdb_71.d1 2. After creating Area enable auditing for database : $ proutil testdb -C enableauditing area &quot;AUDIT_AREA_DATA&quot; - indexarea &quot;AUDIT_AREA_IDX&quot; deactivateidx “OpenEdge Release 10.2B04 as of Thu Mar &nbsp;3 19:17:16 EST 2011 The 95 audit event records for default system events were loaded successfully. (14812) The 36 audit event records for encryption audit events were loaded successfully. (14812) Auditing has been enabled for database testdb. (12479)” IMPLEMENTING AUDIT POLICY &nbsp;: 1. Import Policy in local Database. 2. Export implemented Policy in Character Database.&nbsp; There are various audit policies predefined for OE database. However we can create our customized policies too. Here in particular to our environment our goal is to enable auditing for DBA activities like&nbsp; Dump/load , database object creation, idxbuild etc. For this purpose we two pre defined policies as below. App-Schema&nbsp; PSC-Db-Admin A little description is as below : App-Schema: Application schema changes. This includes when any of the following is created, updated, or deleted: table, table trigger, table field, table index; or sequence. This also includes when a database is created or updated. &nbsp;PSC-Db-Admin: Database administration tools. This includes when the database is started or stopped; or when any of the following operations are performed on the database: backup, restore, binary dump, binary load, copy, table move, index move, index check, index rebuild, index fix, area truncate, SQL dump, text dump, text load. Now comes the tool to Activate a policy called “Audit Policy Maintenance” &nbsp;. Above tools is for Windows GUI only not for Character Interface. So we need to Enable a policy in our local system ,then export it in a XML format and load it in Character interface through Admin tool. We will see this further. &nbsp; After enabling Audit in our local DB ( Local DB should be a similar copy of Character DB in terms of schema) , we need to import policy from Audit policy maintenance tool . Read &nbsp;below . 1. Goto “Audit Policy Maintenance “option in “Tools” in Data Dictionary. 2.You will get below window . Go to File and then “Import Policy” . 3. Auditing policies are stored &nbsp;in $DLC/auditing drive in XML format . Browse there and select &nbsp; “policies.xml” .&nbsp; 4. After importing you will get below message box. 5. You can see Different policies being imported as below . 6. You need to select a policy to activate (however when you import policies.xml , all policies in this xml are activated by default . we need &nbsp;to activate App-Schema and PSC-DB-Admin Policy and deactivate others as below) . Select one policy ( here &nbsp;PSC-DB-Admin) . &nbsp;If you uncheck “Policy active” check box , it will get deactivated ( after saving changes.). 7. You need to uncheck and rest of the policies and check(if not) two policies in concern . Now you need to save changes as below from &nbsp;”Save record” .&nbsp; &nbsp;&nbsp; 8. Once you save it you can see active policies as below. Export Policy to character Database: Goto “Audit Policy Maintenance” tool and select File &gt; Export Policy. &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Browse to directory where you want to generate XML file. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Give a name like “db-policy.xml” &nbsp;and export by clicking on Open . The Xml generated needs to be loaded in target Database . GENERATING REPORTS : Once Auditing is enabled we need to query audit related tables. Below figure may help us. Details of audit tables can be found in documents as below . Table name Description Archived _aud-audit-data &nbsp; &nbsp;&gt;&gt;&gt; &nbsp; &nbsp; This table contains the audit data records. All events are stored in this table. _aud-audit-data-value &gt;&gt;&gt; &nbsp;This table is a child table of the _aud-audit-data table, and contains records for each field change data event. _aud-audit-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains named audit policies. If multiple policies are active, the aggregation of the policies is applied, and the highest level of auditing will be applied if a conflict exists between policies. _aud-event &nbsp;&gt;&gt;&gt; &nbsp;This table contains the definitions for all supported OpenEdge and user-defined audit events and their event ids. All event ids up to 32,000 are reserved. You can create custom application events with ids greater than 32,000. _aud-event-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains policy settings for events associated with policies. _aud-field-policy &gt;&gt;&gt; This table contains field level auditing settings associated with a named policy. _aud-file-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains table level auditing settings associated with a named policy.","headline":"Openedge Database Auditing","mainEntityOfPage":{"@type":"WebPage","@id":"https://vemarahub.github.io/vrexploring/2017/12/14/openedge-database-auditing.html"},"url":"https://vemarahub.github.io/vrexploring/2017/12/14/openedge-database-auditing.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/vrexploring/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://vemarahub.github.io/vrexploring/feed.xml" title="VR Exploring" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/vrexploring/">VR Exploring</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/vrexploring/about/">About</a><a class="page-link" href="/vrexploring/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Openedge Database Auditing</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2017-12-14T10:48:00+00:00" itemprop="datePublished">Dec 14, 2017
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rajesh Nair</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div dir="ltr" style="text-align: left;" trbidi="on">
<br />
<br />
<br />
Auditing goal can be achieved through below steps:<br />
<br />
1.<span class="Apple-tab-span" style="white-space: pre;"> </span>Enabling Audit in a DB.<br />
<br />
2.<span class="Apple-tab-span" style="white-space: pre;"> </span>Implementing policies.<br />
<br />
3.<span class="Apple-tab-span" style="white-space: pre;"> </span>Generating reports.<br />
<div>
<br /></div>
<h3 style="text-align: left;">
<br />ENABLING AUDIT &nbsp;:</h3>
<div>
<br /></div>
<div>
<div>
1.<span class="Apple-tab-span" style="white-space: pre;"> </span>Create &nbsp;a &nbsp;storage area for auditing tables . May create an area for Index too. Area should be of Type 2 storage essentially . eg.</div>
<div>
Add.st :</div>
<div>
d "AUDIT_AREA_DATA":70,64;512 ./testdb_70.d1&nbsp;</div>
<div>
d "AUDIT_AREA_IDX":71,64;512 ./testdb_71.d1</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
2.<span class="Apple-tab-span" style="white-space: pre;"> </span>After creating Area enable auditing for database :</div>
<div>
<br /></div>
<div>
$ proutil testdb -C enableauditing area "AUDIT_AREA_DATA" - indexarea "AUDIT_AREA_IDX" deactivateidx</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
“OpenEdge Release 10.2B04 as of Thu Mar &nbsp;3 19:17:16 EST 2011</div>
<div>
<br /></div>
<div>
The 95 audit event records for default system events were loaded successfully. (14812)</div>
<div>
The 36 audit event records for encryption audit events were loaded successfully. (14812)</div>
<div>
Auditing has been enabled for database testdb. (12479)”</div>
</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<h3 style="text-align: left;">
IMPLEMENTING AUDIT POLICY &nbsp;:</h3>
<div>
1.<span class="Apple-tab-span" style="white-space: pre;"> </span>Import Policy in local Database.</div>
<div>
<br /></div>
<div>
2.<span class="Apple-tab-span" style="white-space: pre;"> </span>Export implemented Policy in Character Database.&nbsp;</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
There are various audit policies predefined for OE database. However we can create our customized policies too. Here in particular to our environment our goal is to enable auditing for DBA activities like&nbsp;</div>
<div>
<br /></div>
<div>
Dump/load , database object creation, idxbuild etc.</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
For this purpose we two pre defined policies as below.</div>
<div>
App-Schema&nbsp;</div>
<div>
PSC-Db-Admin</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
A little description is as below :</div>
<div>
<br /></div>
<div>
<b>App-Schema:</b></div>
<div>
Application schema changes. This includes when any of the following is created, updated, or deleted: table, table trigger, table field, table index; or sequence. This also includes when a database is created or updated.</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<b>&nbsp;PSC-Db-Admin:</b></div>
<div>
Database administration tools. This includes when the database is started or stopped; or when any of the following operations are performed on the database: backup, restore, binary dump, binary load, copy, table move, index move, index check, index rebuild, index fix, area truncate, SQL dump, text dump, text load.</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
Now comes the tool to Activate a policy called <b>“Audit Policy Maintenance”</b> &nbsp;.</div>
<div>
<br /></div>
<div>
Above tools is for Windows GUI only not for Character Interface. So we need to Enable a policy in our local system ,then export it in a XML format and load it in Character interface through Admin tool.</div>
<div>
<br /></div>
<div>
We will see this further. &nbsp;</div>
<div>
<br /></div>
<div>
After enabling Audit in our local DB ( Local DB should be a similar copy of Character DB in terms of schema) , we need to import policy from Audit policy maintenance tool . Read &nbsp;below .<br />
<br />
1.<span class="Apple-tab-span" style="white-space: pre;"> </span>Goto “Audit Policy Maintenance “option in “Tools” in Data Dictionary.</div>
<div>
<br />
<br /></div>
<div>
</div>
<div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz5OWaM1LcHnm_FPC-lI3G70xpcSaQVL3fTTsqwIkbPjmzZJlpY20VMm4v9F03RtR8OxRfc9LedNQN4WuTsO4fb-_31d1zj7WAeg8DxAxiZMDDdpXsjYDi34sE0xRlP5fWAWVOKqIqx6rc/s1600/a1.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="534" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz5OWaM1LcHnm_FPC-lI3G70xpcSaQVL3fTTsqwIkbPjmzZJlpY20VMm4v9F03RtR8OxRfc9LedNQN4WuTsO4fb-_31d1zj7WAeg8DxAxiZMDDdpXsjYDi34sE0xRlP5fWAWVOKqIqx6rc/s640/a1.png" width="640" /></a></div>
<br /></div>
<div>
<br /></div>
<div>
<br />
<span class="Apple-tab-span" style="white-space: pre;"><br /></span><span class="Apple-tab-span" style="white-space: pre;"> </span><br />
<span class="Apple-tab-span" style="white-space: pre;">2.</span>You will get below window . Go to File and then “Import Policy” .<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjj92mxw8zWyPpBUK71-ZZ4jQWdIFnu_qxSLIrlRfYiQbIOvgfTDWu879hVqMNwWl9x1C1RjBmK6kd4vRfoxyZK1SKHERnYwNFsl9gRyyryYKVNigdOo4UUtHSKQudMkH5R45tg2A9vmUm_/s1600/a2.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="446" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjj92mxw8zWyPpBUK71-ZZ4jQWdIFnu_qxSLIrlRfYiQbIOvgfTDWu879hVqMNwWl9x1C1RjBmK6kd4vRfoxyZK1SKHERnYwNFsl9gRyyryYKVNigdOo4UUtHSKQudMkH5R45tg2A9vmUm_/s640/a2.png" width="640" /></a></div>
<br />
<br /></div>
<div>
<br />
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
3.<span class="Apple-tab-span" style="white-space: pre;"> </span>Auditing policies are stored &nbsp;in $DLC/auditing drive in XML format . Browse there and select &nbsp; “policies.xml” .&nbsp;</div>
<div>
<br /></div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgL1T0ixk-wl7-QA-_RDnOyHIY-j08BwQAHGlul18vG8PHdW29EcY8Eqy_lfsuqCvBVFJTK9nvDzHfRli0zjuWbLeirz32SxVqT6qOPYe3gz_gOuw0UWPQTrB7HUeDbAe15DjJHmx8r0QtT/s1600/a3.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="172" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgL1T0ixk-wl7-QA-_RDnOyHIY-j08BwQAHGlul18vG8PHdW29EcY8Eqy_lfsuqCvBVFJTK9nvDzHfRli0zjuWbLeirz32SxVqT6qOPYe3gz_gOuw0UWPQTrB7HUeDbAe15DjJHmx8r0QtT/s640/a3.png" width="640" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEisff2jEJUAxqArFnTH_V-Jkii-2Pob2SSvq1sDMHpHAU1-mek43LooPdkNUVbnihquhoJqDgwvs2oGsbTjlWZX1MtC4sIVQ6d3ym2Yuusvnq8XDrgebSt2TRkBXxWkFLicGg9M6wbNrkNS/s1600/a4.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEisff2jEJUAxqArFnTH_V-Jkii-2Pob2SSvq1sDMHpHAU1-mek43LooPdkNUVbnihquhoJqDgwvs2oGsbTjlWZX1MtC4sIVQ6d3ym2Yuusvnq8XDrgebSt2TRkBXxWkFLicGg9M6wbNrkNS/s640/a4.png" width="640" /></a></div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
4.<span class="Apple-tab-span" style="white-space: pre;"> </span>After importing you will get below message box.</div>
<div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJfWJUAC89NsjsfbHNJ54c4XU4jDm_hCEUDeLLVY-ht7lc5XbACJHppvf-KmzYJPUQFH1ASKaJhTJRsOoaT1oZbHZ8sbquv5GRTkcenIa2JQYSA4K3def90-xxs3GrrWIpi4d9Nn1GO97S/s1600/a5.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="188" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJfWJUAC89NsjsfbHNJ54c4XU4jDm_hCEUDeLLVY-ht7lc5XbACJHppvf-KmzYJPUQFH1ASKaJhTJRsOoaT1oZbHZ8sbquv5GRTkcenIa2JQYSA4K3def90-xxs3GrrWIpi4d9Nn1GO97S/s640/a5.png" width="640" /></a></div>
<br />
<br />
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
5.<span class="Apple-tab-span" style="white-space: pre;"> </span>You can see Different policies being imported as below .<br />
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj5yxo2vHemsYuLz82fLeoRTBieYo-KleScNGlExIdj-BhTabdQdk3bMYAWHIEMJqmJC1ohfSvruf_i1BYKNSabL9V5dYAXjl3nNUId83lbODgo56cLorP_3C87euMyhk3o4_WKOVlTM_6Y/s1600/a6.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="186" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj5yxo2vHemsYuLz82fLeoRTBieYo-KleScNGlExIdj-BhTabdQdk3bMYAWHIEMJqmJC1ohfSvruf_i1BYKNSabL9V5dYAXjl3nNUId83lbODgo56cLorP_3C87euMyhk3o4_WKOVlTM_6Y/s640/a6.png" width="640" /></a></div>
<br />
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></div>
<div>
6.<span class="Apple-tab-span" style="white-space: pre;"> </span>You need to select a policy to activate (however when you import policies.xml , all policies in this xml are activated by default . we need &nbsp;to activate App-Schema and PSC-DB-Admin Policy and deactivate others as below) .</div>
<div>
Select one policy ( here &nbsp;PSC-DB-Admin) .</div>
<div>
<br />
<br />
<br />
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJbSBLqqBuMdLzQL-E36pdJ-HELvKYlLNycM3MUUhjyEDzZEHeFQpEBDUQ4OU945uVDGtsXPX_gZAO68GBvjePtnMeEeK4bYR8_Ku7dbkid5Wjh4JA5rGJUS0hYjzsKJAPVLWPvs7uA4iv/s1600/a7.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="380" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjJbSBLqqBuMdLzQL-E36pdJ-HELvKYlLNycM3MUUhjyEDzZEHeFQpEBDUQ4OU945uVDGtsXPX_gZAO68GBvjePtnMeEeK4bYR8_Ku7dbkid5Wjh4JA5rGJUS0hYjzsKJAPVLWPvs7uA4iv/s640/a7.png" width="640" /></a><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></div>
<div>
&nbsp;If you uncheck “Policy active” check box , it will get deactivated ( after saving changes.).<br />
<br />
<br /></div>
<div>
7.<span class="Apple-tab-span" style="white-space: pre;"> </span>You need to uncheck and rest of the policies and check(if not) two policies in concern .</div>
<div>
Now you need to save changes as below from &nbsp;”Save record” .&nbsp;</div>
<div>
&nbsp;&nbsp;</div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifMv_ufypzRtgqi6nDfRoYxSrYZ7HdmAZL4bNsVQN3S9rMNKpdqz7qDpZFlYR3GzcqC90oOWu6sWSHSVtdwHuUC31VrLFCWDTgdf9UE1dcUdgm6Gzx_lUKuMnAz_r5-boXEYNQdzqbl8lQ/s1600/a8.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="640" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifMv_ufypzRtgqi6nDfRoYxSrYZ7HdmAZL4bNsVQN3S9rMNKpdqz7qDpZFlYR3GzcqC90oOWu6sWSHSVtdwHuUC31VrLFCWDTgdf9UE1dcUdgm6Gzx_lUKuMnAz_r5-boXEYNQdzqbl8lQ/s640/a8.png" width="626" /></a></div>
<br />
<br />
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
8.<span class="Apple-tab-span" style="white-space: pre;"> </span>Once you save it you can see active policies as below.</div>
<div>
<br /></div>
<div>
</div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhgjHkPvTB8WfEvo2BTdMinyJN58sprKycuQ6JoeelO-mUEVbaW-EywyrAxIvkITq1BIyMwMDPBdTMVLJsN4orxOhGh2Ob-EutDmdD4uUCQaTLzHtbKrxvKbX_xxhittQmHCXjA1UTqQ0b3/s1600/a9.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="166" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhgjHkPvTB8WfEvo2BTdMinyJN58sprKycuQ6JoeelO-mUEVbaW-EywyrAxIvkITq1BIyMwMDPBdTMVLJsN4orxOhGh2Ob-EutDmdD4uUCQaTLzHtbKrxvKbX_xxhittQmHCXjA1UTqQ0b3/s640/a9.png" width="640" /></a></div>
<br /></div>
<div>
<br />
<br />
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<b><br /></b><b>Export Policy to character Database:</b></div>
<div>
<br /></div>
<div>
Goto “Audit Policy Maintenance” tool and select File &gt; Export Policy.</div>
<div>
<br /></div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjx1iIkZ8kYZ6ODBvLw7VQrakQRI1wf0COFWVAUN5TWuxBazu35OGq85dhNv-sx6CvgRe8-6y_C7Vgnf_KKP0S4GEhHNhO5vxKh0tReXrtf4LbGg-56RKpo0UC6hn2T32PTlcXyjxJ5qNH5/s1600/a10.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="478" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjx1iIkZ8kYZ6ODBvLw7VQrakQRI1wf0COFWVAUN5TWuxBazu35OGq85dhNv-sx6CvgRe8-6y_C7Vgnf_KKP0S4GEhHNhO5vxKh0tReXrtf4LbGg-56RKpo0UC6hn2T32PTlcXyjxJ5qNH5/s640/a10.png" width="640" /></a></div>
<br /></div>
<div>
&nbsp;&nbsp;</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />
Browse to directory where you want to generate XML file.<br />
<br /></div>
<div>
<br /></div>
<div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhaDDYDcuZJEF5XHUQxs2KCFUsERFNGd3zzaMe0615wuVB7G3g-oB7QmwwGjVV4iSrSh8ZQUjRmS0Bs3k8AfBk1yKfaX0dOaTQ-5EoYOXieAQ4PZz16nPcCvJGcsy2K4YZ468f8wLVkAkx-/s1600/a11.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="170" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhaDDYDcuZJEF5XHUQxs2KCFUsERFNGd3zzaMe0615wuVB7G3g-oB7QmwwGjVV4iSrSh8ZQUjRmS0Bs3k8AfBk1yKfaX0dOaTQ-5EoYOXieAQ4PZz16nPcCvJGcsy2K4YZ468f8wLVkAkx-/s640/a11.png" width="640" /></a></div>
</div>
<div>
<br /></div>
<div>
<br />
<br />
<br />
<br />
<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />
<br />
<br />
Give a name like “db-policy.xml” &nbsp;and export by clicking on Open .</div>
<div>
</div>
<div>
<br /></div>
<div>
The Xml generated needs to be loaded in target Database .</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
GENERATING REPORTS :</div>
<div>
Once Auditing is enabled we need to query audit related tables. Below figure may help us.</div>
<div>
<br /></div>
<div>
</div>
<div>
<br /></div>
<div>
Details of audit tables can be found in documents as below .</div>
<div>
Table name Description Archived</div>
<div>
_aud-audit-data &nbsp; &nbsp;&gt;&gt;&gt; &nbsp; &nbsp; This table contains the audit data records. All</div>
<div>
events are stored in this table.</div>
<div>
<br /></div>
<div>
_aud-audit-data-value &gt;&gt;&gt; &nbsp;This table is a child table of the _aud-audit-data</div>
<div>
table, and contains records for each field</div>
<div>
change data event.</div>
<div>
<br /></div>
<div>
_aud-audit-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains named audit policies. If</div>
<div>
multiple policies are active, the aggregation of</div>
<div>
the policies is applied, and the highest level of</div>
<div>
auditing will be applied if a conflict exists</div>
<div>
between policies.</div>
<div>
<br /></div>
<div>
_aud-event &nbsp;&gt;&gt;&gt; &nbsp;This table contains the definitions for all</div>
<div>
supported OpenEdge and user-defined audit</div>
<div>
events and their event ids. All event ids up to</div>
<div>
32,000 are reserved. You can create custom</div>
<div>
application events with ids greater than 32,000.</div>
<div>
<br /></div>
<div>
_aud-event-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains policy settings for events</div>
<div>
associated with policies.</div>
<div>
<br /></div>
<div>
_aud-field-policy &gt;&gt;&gt; This table contains field level auditing settings</div>
<div>
associated with a named policy.</div>
<div>
<br /></div>
<div>
_aud-file-policy &nbsp;&gt;&gt;&gt; &nbsp;This table contains table level auditing settings</div>
<div>
associated with a named policy.</div>
</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
</div>

  </div><a class="u-url" href="/vrexploring/2017/12/14/openedge-database-auditing.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/vrexploring/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">VR Exploring</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">VR Exploring</li><li><a class="u-email" href="mailto:vrexploring@gmail.com">vrexploring@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vemarahub"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vemarahub</span></a></li><li><a href="https://www.twitter.com/vrexploring"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vrexploring</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A space where i share my thoughts and experiences about technology , science, life, family and everything in between.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
