<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Shell Script - Progress Start Database | VR Exploring</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Shell Script - Progress Start Database" />
<meta name="author" content="Rajesh Nair" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Script : Progress start a database instance Script Name: startpro.sh Script Function: Start a database instance of progress with a pf file. Script Usage: ./startpro.sh &lt; db path &gt; Code: #!/bin/sh JOB_ID=startpro set +x . /pro/admin/ctl/setenv.pro MinI=&quot;&quot; MinS=&quot;&quot; MinT=&quot;&quot; bForce=&quot;0&quot; #-----------------------------------------------------------------------------# # database down ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# echo type proutil echo &#39;&gt;&gt;&#39; &quot;proutil ${1} -C busy&quot; proutil ${1} -C busy || &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp;if [[ &quot;${bForce}&quot; = &quot;1&quot; ]] &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ${proAdmin}bin/stoppro.sh&nbsp; ${1} || exit 1 &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;WARNING: ${1} not started. (already running?)&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit 0 &nbsp; &nbsp; &nbsp; &nbsp;fi ;} #-----------------------------------------------------------------------------# # OK, just a notice&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# #(( &quot;$_isDefaultPf&quot; == 1 )) &amp;&amp; echo &quot;INFO: default .pf file used (${_lpfnam})&quot; if [ $# == 1 ] then &nbsp;pf=${1}.pf fi #-----------------------------------------------------------------------------# # if -t on command line first truncate BI file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# if [[ &quot;${MinT}&quot; = &quot;-t&quot; ]] then &nbsp; &nbsp;echo &quot;truncate BI start&quot; &nbsp; &nbsp;proutil ${1} -C truncate BI&nbsp; &nbsp; &nbsp;|| exit 1 &nbsp; &nbsp;echo &quot;truncate BI ready&quot; fi #-----------------------------------------------------------------------------# # if -s on command line first switch logfiles.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# if [[ &quot;${MinS}&quot; = &quot;-s&quot; ]] then &nbsp; &nbsp;echo &quot;Switching logfiles start&quot; &nbsp; &nbsp;[[ -r &quot;${1}.lg[-6]&quot; ]] &amp;&amp; mv ${1}.lg[-6] ${1}.lg[-7] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-5]&quot; ]] &amp;&amp; mv ${1}.lg[-5] ${1}.lg[-6] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-4]&quot; ]] &amp;&amp; mv ${1}.lg[-4] ${1}.lg[-5] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-3]&quot; ]] &amp;&amp; mv ${1}.lg[-3] ${1}.lg[-4] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-2]&quot; ]] &amp;&amp; mv ${1}.lg[-2] ${1}.lg[-3] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-1]&quot; ]] &amp;&amp; mv ${1}.lg[-1] ${1}.lg[-2] &nbsp; &nbsp;[[ -r &quot;${1}.lg&quot; ]]&nbsp; &nbsp; &nbsp;&amp;&amp; mv ${1}.lg&nbsp; &nbsp; &nbsp;${1}.lg[-1] &nbsp; &nbsp;&gt;&nbsp; ${1}.lg &nbsp; &nbsp;echo &quot;Switching logfiles ready&quot; fi #-----------------------------------------------------------------------------# # start the server for this database&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# type proserve echo &#39;&gt;&gt;&#39; &quot;proserve ${1} -pf $pf&nbsp;${MinI}&quot; proserve ${1} -pf $pf&nbsp;${MinI} || &nbsp; &nbsp; &nbsp; &nbsp;{ echo &quot;ERROR: during proserve, see ${1}.lg for details.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit 1 ;} echo &quot;${1} started.&quot; #-----------------------------------------------------------------------------# # optional writers to do ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# [[ -z &quot;${_dbwriters}&quot; ]] &amp;&amp; exit 0 typeset -u writer typeset -i aaStarted typeset -i abStarted #-----------------------------------------------------------------------------# #&nbsp; V1.2.0&nbsp; APW added..&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # # For both the AIW and BIW, progress will exit 0, even if not started&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # we have to examine the .lg file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #&nbsp; &nbsp; &nbsp;aaStarted == #Starts before&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp;abStarted == #Starts after we started the writer.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; so: abStarted minus aaStarted MUST be 1.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # The sleeps are only there to avoid the writer and server logging getting&nbsp; &nbsp; # # mixed up.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# for writer in $(echo ${_dbwriters} | sed &#39;s/,/ /g&#39;) &nbsp;do &nbsp; &nbsp; case &quot;${writer}&quot; in &nbsp; &nbsp; &nbsp; &nbsp;AI|AIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proaiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proaiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proaiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;BI|BIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type probiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;probiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;probiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;BI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;AP|APW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proapw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proapw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proapw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AP writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;*) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;WARNING: Invalid writer specified (${writer}), ignored.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; esac done #-----------------------------------------------------------------------------# # EOF ------------------------------------------------------------------------# #-----------------------------------------------------------------------------#" />
<meta property="og:description" content="Script : Progress start a database instance Script Name: startpro.sh Script Function: Start a database instance of progress with a pf file. Script Usage: ./startpro.sh &lt; db path &gt; Code: #!/bin/sh JOB_ID=startpro set +x . /pro/admin/ctl/setenv.pro MinI=&quot;&quot; MinS=&quot;&quot; MinT=&quot;&quot; bForce=&quot;0&quot; #-----------------------------------------------------------------------------# # database down ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# echo type proutil echo &#39;&gt;&gt;&#39; &quot;proutil ${1} -C busy&quot; proutil ${1} -C busy || &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp;if [[ &quot;${bForce}&quot; = &quot;1&quot; ]] &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ${proAdmin}bin/stoppro.sh&nbsp; ${1} || exit 1 &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;WARNING: ${1} not started. (already running?)&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit 0 &nbsp; &nbsp; &nbsp; &nbsp;fi ;} #-----------------------------------------------------------------------------# # OK, just a notice&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# #(( &quot;$_isDefaultPf&quot; == 1 )) &amp;&amp; echo &quot;INFO: default .pf file used (${_lpfnam})&quot; if [ $# == 1 ] then &nbsp;pf=${1}.pf fi #-----------------------------------------------------------------------------# # if -t on command line first truncate BI file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# if [[ &quot;${MinT}&quot; = &quot;-t&quot; ]] then &nbsp; &nbsp;echo &quot;truncate BI start&quot; &nbsp; &nbsp;proutil ${1} -C truncate BI&nbsp; &nbsp; &nbsp;|| exit 1 &nbsp; &nbsp;echo &quot;truncate BI ready&quot; fi #-----------------------------------------------------------------------------# # if -s on command line first switch logfiles.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# if [[ &quot;${MinS}&quot; = &quot;-s&quot; ]] then &nbsp; &nbsp;echo &quot;Switching logfiles start&quot; &nbsp; &nbsp;[[ -r &quot;${1}.lg[-6]&quot; ]] &amp;&amp; mv ${1}.lg[-6] ${1}.lg[-7] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-5]&quot; ]] &amp;&amp; mv ${1}.lg[-5] ${1}.lg[-6] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-4]&quot; ]] &amp;&amp; mv ${1}.lg[-4] ${1}.lg[-5] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-3]&quot; ]] &amp;&amp; mv ${1}.lg[-3] ${1}.lg[-4] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-2]&quot; ]] &amp;&amp; mv ${1}.lg[-2] ${1}.lg[-3] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-1]&quot; ]] &amp;&amp; mv ${1}.lg[-1] ${1}.lg[-2] &nbsp; &nbsp;[[ -r &quot;${1}.lg&quot; ]]&nbsp; &nbsp; &nbsp;&amp;&amp; mv ${1}.lg&nbsp; &nbsp; &nbsp;${1}.lg[-1] &nbsp; &nbsp;&gt;&nbsp; ${1}.lg &nbsp; &nbsp;echo &quot;Switching logfiles ready&quot; fi #-----------------------------------------------------------------------------# # start the server for this database&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# type proserve echo &#39;&gt;&gt;&#39; &quot;proserve ${1} -pf $pf&nbsp;${MinI}&quot; proserve ${1} -pf $pf&nbsp;${MinI} || &nbsp; &nbsp; &nbsp; &nbsp;{ echo &quot;ERROR: during proserve, see ${1}.lg for details.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit 1 ;} echo &quot;${1} started.&quot; #-----------------------------------------------------------------------------# # optional writers to do ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# [[ -z &quot;${_dbwriters}&quot; ]] &amp;&amp; exit 0 typeset -u writer typeset -i aaStarted typeset -i abStarted #-----------------------------------------------------------------------------# #&nbsp; V1.2.0&nbsp; APW added..&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # # For both the AIW and BIW, progress will exit 0, even if not started&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # we have to examine the .lg file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #&nbsp; &nbsp; &nbsp;aaStarted == #Starts before&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp;abStarted == #Starts after we started the writer.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; so: abStarted minus aaStarted MUST be 1.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # The sleeps are only there to avoid the writer and server logging getting&nbsp; &nbsp; # # mixed up.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# for writer in $(echo ${_dbwriters} | sed &#39;s/,/ /g&#39;) &nbsp;do &nbsp; &nbsp; case &quot;${writer}&quot; in &nbsp; &nbsp; &nbsp; &nbsp;AI|AIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proaiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proaiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proaiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;BI|BIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type probiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;probiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;probiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;BI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;AP|APW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proapw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proapw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proapw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AP writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;*) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;WARNING: Invalid writer specified (${writer}), ignored.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; esac done #-----------------------------------------------------------------------------# # EOF ------------------------------------------------------------------------# #-----------------------------------------------------------------------------#" />
<link rel="canonical" href="https://vemarahub.github.io/vrexploring/2020/03/26/shell-script-progress-start-database.html" />
<meta property="og:url" content="https://vemarahub.github.io/vrexploring/2020/03/26/shell-script-progress-start-database.html" />
<meta property="og:site_name" content="VR Exploring" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-26T06:16:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Shell Script - Progress Start Database" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Rajesh Nair"},"dateModified":"2020-03-26T06:16:00+00:00","datePublished":"2020-03-26T06:16:00+00:00","description":"Script : Progress start a database instance Script Name: startpro.sh Script Function: Start a database instance of progress with a pf file. Script Usage: ./startpro.sh &lt; db path &gt; Code: #!/bin/sh JOB_ID=startpro set +x . /pro/admin/ctl/setenv.pro MinI=&quot;&quot; MinS=&quot;&quot; MinT=&quot;&quot; bForce=&quot;0&quot; #-----------------------------------------------------------------------------# # database down ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# echo type proutil echo &#39;&gt;&gt;&#39; &quot;proutil ${1} -C busy&quot; proutil ${1} -C busy || &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp;if [[ &quot;${bForce}&quot; = &quot;1&quot; ]] &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ${proAdmin}bin/stoppro.sh&nbsp; ${1} || exit 1 &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;WARNING: ${1} not started. (already running?)&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit 0 &nbsp; &nbsp; &nbsp; &nbsp;fi ;} #-----------------------------------------------------------------------------# # OK, just a notice&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# #(( &quot;$_isDefaultPf&quot; == 1 )) &amp;&amp; echo &quot;INFO: default .pf file used (${_lpfnam})&quot; if [ $# == 1 ] then &nbsp;pf=${1}.pf fi #-----------------------------------------------------------------------------# # if -t on command line first truncate BI file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# if [[ &quot;${MinT}&quot; = &quot;-t&quot; ]] then &nbsp; &nbsp;echo &quot;truncate BI start&quot; &nbsp; &nbsp;proutil ${1} -C truncate BI&nbsp; &nbsp; &nbsp;|| exit 1 &nbsp; &nbsp;echo &quot;truncate BI ready&quot; fi #-----------------------------------------------------------------------------# # if -s on command line first switch logfiles.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# if [[ &quot;${MinS}&quot; = &quot;-s&quot; ]] then &nbsp; &nbsp;echo &quot;Switching logfiles start&quot; &nbsp; &nbsp;[[ -r &quot;${1}.lg[-6]&quot; ]] &amp;&amp; mv ${1}.lg[-6] ${1}.lg[-7] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-5]&quot; ]] &amp;&amp; mv ${1}.lg[-5] ${1}.lg[-6] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-4]&quot; ]] &amp;&amp; mv ${1}.lg[-4] ${1}.lg[-5] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-3]&quot; ]] &amp;&amp; mv ${1}.lg[-3] ${1}.lg[-4] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-2]&quot; ]] &amp;&amp; mv ${1}.lg[-2] ${1}.lg[-3] &nbsp; &nbsp;[[ -r &quot;${1}.lg[-1]&quot; ]] &amp;&amp; mv ${1}.lg[-1] ${1}.lg[-2] &nbsp; &nbsp;[[ -r &quot;${1}.lg&quot; ]]&nbsp; &nbsp; &nbsp;&amp;&amp; mv ${1}.lg&nbsp; &nbsp; &nbsp;${1}.lg[-1] &nbsp; &nbsp;&gt;&nbsp; ${1}.lg &nbsp; &nbsp;echo &quot;Switching logfiles ready&quot; fi #-----------------------------------------------------------------------------# # start the server for this database&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# type proserve echo &#39;&gt;&gt;&#39; &quot;proserve ${1} -pf $pf&nbsp;${MinI}&quot; proserve ${1} -pf $pf&nbsp;${MinI} || &nbsp; &nbsp; &nbsp; &nbsp;{ echo &quot;ERROR: during proserve, see ${1}.lg for details.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit 1 ;} echo &quot;${1} started.&quot; #-----------------------------------------------------------------------------# # optional writers to do ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #-----------------------------------------------------------------------------# [[ -z &quot;${_dbwriters}&quot; ]] &amp;&amp; exit 0 typeset -u writer typeset -i aaStarted typeset -i abStarted #-----------------------------------------------------------------------------# #&nbsp; V1.2.0&nbsp; APW added..&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # # For both the AIW and BIW, progress will exit 0, even if not started&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # we have to examine the .lg file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # #&nbsp; &nbsp; &nbsp;aaStarted == #Starts before&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp;abStarted == #Starts after we started the writer.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; so: abStarted minus aaStarted MUST be 1.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# # The sleeps are only there to avoid the writer and server logging getting&nbsp; &nbsp; # # mixed up.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# #-----------------------------------------------------------------------------# for writer in $(echo ${_dbwriters} | sed &#39;s/,/ /g&#39;) &nbsp;do &nbsp; &nbsp; case &quot;${writer}&quot; in &nbsp; &nbsp; &nbsp; &nbsp;AI|AIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proaiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proaiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proaiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proaiw ${1}, AI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;BI|BIW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type probiw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;probiw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;probiw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during probiw ${1}, BI writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;BI writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;AP|APW) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proapw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &#39;&gt;&gt;&#39; &quot;proapw ${1}&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proapw ${1} || &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep APW ${1}.lg | grep -i Started | wc -l) &nbsp; &nbsp; &nbsp; if (( $(($abStarted - $aaStarted)) != 1 )) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;ERROR: during proapw ${1}, AP writer not stared.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;AP writer started.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; &nbsp; &nbsp;*) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo &quot;WARNING: Invalid writer specified (${writer}), ignored.&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue &nbsp; &nbsp; &nbsp; &nbsp;;; &nbsp; &nbsp; esac done #-----------------------------------------------------------------------------# # EOF ------------------------------------------------------------------------# #-----------------------------------------------------------------------------#","headline":"Shell Script - Progress Start Database","mainEntityOfPage":{"@type":"WebPage","@id":"https://vemarahub.github.io/vrexploring/2020/03/26/shell-script-progress-start-database.html"},"url":"https://vemarahub.github.io/vrexploring/2020/03/26/shell-script-progress-start-database.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/vrexploring/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://vemarahub.github.io/vrexploring/feed.xml" title="VR Exploring" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/vrexploring/">VR Exploring</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/vrexploring/about/">About</a><a class="page-link" href="/vrexploring/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Shell Script - Progress Start Database</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-03-26T06:16:00+00:00" itemprop="datePublished">Mar 26, 2020
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Rajesh Nair</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div dir="ltr" style="text-align: left;" trbidi="on">
<br />
<b>Script :</b> Progress start a database instance<br />
<br />
<b>Script Name:</b> startpro.sh<br />
<br />
<b>Script Function:</b> Start a database instance of progress with a pf file.<br />
<br />
<b>Script Usage: </b>./startpro.sh &lt; db path &gt; <pf file=""></pf><br />
<br />
<b><u>Code:</u></b><br />
<div>
<br /></div>
<div>
<div>
#!/bin/sh</div>
<div>
JOB_ID=startpro</div>
<div>
set +x</div>
<div>
. /pro/admin/ctl/setenv.pro</div>
<div>
MinI=""</div>
<div>
MinS=""</div>
<div>
MinT=""</div>
<div>
bForce="0"</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# database down ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
echo</div>
<div>
type proutil</div>
<div>
echo '&gt;&gt;' "proutil ${1} -C busy"</div>
<div>
proutil ${1} -C busy ||</div>
<div>
&nbsp; &nbsp; &nbsp; {</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;if [[ "${bForce}" = "1" ]]</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;then</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ${proAdmin}bin/stoppro.sh&nbsp; ${1} || exit 1</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;else</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "WARNING: ${1} not started. (already running?)"</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit 0</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;fi ;}</div>
<div>
<br /></div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# OK, just a notice&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
#(( "$_isDefaultPf" == 1 )) &amp;&amp; echo "INFO: default .pf file used (${_lpfnam})"</div>
<div>
if [ $# == 1 ]<br />
then<br />
&nbsp;pf=${1}.pf<br />
fi</div>
<div>
<br /></div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# if -t on command line first truncate BI file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
if [[ "${MinT}" = "-t" ]]</div>
<div>
then</div>
<div>
&nbsp; &nbsp;echo "truncate BI start"</div>
<div>
&nbsp; &nbsp;proutil ${1} -C truncate BI&nbsp; &nbsp; &nbsp;|| exit 1</div>
<div>
&nbsp; &nbsp;echo "truncate BI ready"</div>
<div>
fi</div>
<div>
<br /></div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# if -s on command line first switch logfiles.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #</div>
</div>
<div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
if [[ "${MinS}" = "-s" ]]</div>
<div>
then</div>
<div>
&nbsp; &nbsp;echo "Switching logfiles start"</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-6]" ]] &amp;&amp; mv ${1}.lg[-6] ${1}.lg[-7]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-5]" ]] &amp;&amp; mv ${1}.lg[-5] ${1}.lg[-6]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-4]" ]] &amp;&amp; mv ${1}.lg[-4] ${1}.lg[-5]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-3]" ]] &amp;&amp; mv ${1}.lg[-3] ${1}.lg[-4]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-2]" ]] &amp;&amp; mv ${1}.lg[-2] ${1}.lg[-3]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg[-1]" ]] &amp;&amp; mv ${1}.lg[-1] ${1}.lg[-2]</div>
<div>
&nbsp; &nbsp;[[ -r "${1}.lg" ]]&nbsp; &nbsp; &nbsp;&amp;&amp; mv ${1}.lg&nbsp; &nbsp; &nbsp;${1}.lg[-1]</div>
<div>
&nbsp; &nbsp;&gt;&nbsp; ${1}.lg</div>
<div>
&nbsp; &nbsp;echo "Switching logfiles ready"</div>
<div>
fi</div>
<div>
<br /></div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# start the server for this database&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
type proserve</div>
<div>
echo '&gt;&gt;' "proserve ${1} -pf $pf&nbsp;${MinI}"</div>
<div>
proserve ${1} -pf $pf&nbsp;${MinI} ||</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;{ echo "ERROR: during proserve, see ${1}.lg for details."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit 1 ;}</div>
<div>
<br /></div>
<div>
echo "${1} started."</div>
<div>
<br /></div>
</div>
<div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# optional writers to do ?&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
[[ -z "${_dbwriters}" ]] &amp;&amp; exit 0</div>
<div>
<br /></div>
<div>
typeset -u writer</div>
<div>
typeset -i aaStarted</div>
<div>
typeset -i abStarted</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
#&nbsp; V1.2.0&nbsp; APW added..&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #</div>
<div>
# For both the AIW and BIW, progress will exit 0, even if not started&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
# we have to examine the .lg file.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #</div>
<div>
#&nbsp; &nbsp; &nbsp;aaStarted == #Starts before&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#&nbsp; &nbsp; &nbsp;abStarted == #Starts after we started the writer.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#&nbsp; so: abStarted minus aaStarted MUST be 1.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
# The sleeps are only there to avoid the writer and server logging getting&nbsp; &nbsp; #</div>
<div>
# mixed up.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
for writer in $(echo ${_dbwriters} | sed 's/,/ /g')</div>
<div>
&nbsp;do</div>
<div>
&nbsp; &nbsp; case "${writer}" in</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;AI|AIW)</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l)</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proaiw</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo '&gt;&gt;' "proaiw ${1}"</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proaiw ${1} ||</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo "ERROR: during proaiw ${1}, AI writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;}</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep AIW ${1}.lg | grep -i Started | wc -l)</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 ))</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "ERROR: during proaiw ${1}, AI writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "AI writer started."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi</div>
</div>
<div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;;;</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;BI|BIW)</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l)</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type probiw</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo '&gt;&gt;' "probiw ${1}"</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;probiw ${1} ||</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo "ERROR: during probiw ${1}, BI writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;}</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep BIW ${1}.lg | grep -i Started | wc -l)</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (( $(($abStarted - $aaStarted)) != 1 ))</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "ERROR: during probiw ${1}, BI writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "BI writer started."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;;;</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;AP|APW)</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sleep 3</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;aaStarted=$(grep APW ${1}.lg | grep -i Started | wc -l)</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;type proapw</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo '&gt;&gt;' "proapw ${1}"</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;proapw ${1} ||</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { echo "ERROR: during proapw ${1}, AP writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue ;}</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abStarted=$(grep APW ${1}.lg | grep -i Started | wc -l)</div>
</div>
<div>
<div>
&nbsp; &nbsp; &nbsp; if (( $(($abStarted - $aaStarted)) != 1 ))</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;then</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "ERROR: during proapw ${1}, AP writer not stared."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "AP writer started."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;;;</div>
<div>
<br /></div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;*)</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;echo "WARNING: Invalid writer specified (${writer}), ignored."</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;continue</div>
<div>
&nbsp; &nbsp; &nbsp; &nbsp;;;</div>
<div>
&nbsp; &nbsp; esac</div>
<div>
done</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
# EOF ------------------------------------------------------------------------#</div>
<div>
#-----------------------------------------------------------------------------#</div>
<div>
<br /></div>
</div>
</div>

  </div><a class="u-url" href="/vrexploring/2020/03/26/shell-script-progress-start-database.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/vrexploring/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">VR Exploring</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">VR Exploring</li><li><a class="u-email" href="mailto:vrexploring@gmail.com">vrexploring@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vemarahub"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vemarahub</span></a></li><li><a href="https://www.twitter.com/vrexploring"><svg class="svg-icon"><use xlink:href="/vrexploring/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vrexploring</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A space where i share my thoughts and experiences about technology , science, life, family and everything in between.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
